---
title: Tests
layout: ../../layouts/MainLayout.astro
---

# Tests

Strudel utilise [vitest](https://vitest.dev/) pour les tests, avec 2 types de stratégies de test :

- tests unitaires pour des tests à granularité fine
- tests de snapshot automatisés pour des tests plus larges

## Tests Unitaires

Chaque package a un dossier `test` où les tests sont écrits fichier par fichier, par exemple `util.test.mjs` implémente tous les tests pour `util.mjs`.

## Tests de Snapshot

Les tests de snapshot permettent de tester de plus gros morceaux de données. Strudel utilise les tests de snapshot pour :

- Exemples de Snippets : `examples.test.mjs`, utilisant les snippets sous `@example` dans les commentaires jsdoc
- Exemples de Tunes : `tunes.test.mjs`, utilisant tous les patterns dans `tunes.mjs`

Les fichiers de snapshot (`.snap`) contiennent tous les haps dans un certain nombre de cycles pour chaque pattern testé.
Ils permettent de tester les changements cassants à plus grande échelle.
Si les changements cassants sont intentionnels, les snapshots peuvent être mis à jour avec `npm run snapshot`.
Assurez-vous simplement de vérifier que tous les patterns affectés se comportent comme prévu.
