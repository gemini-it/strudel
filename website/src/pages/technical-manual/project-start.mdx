---
title: Utiliser Strudel dans votre Projet
layout: ../../layouts/MainLayout.astro
---

# Utiliser Strudel dans votre Projet

Ce guide vous montre les différentes façons de démarrer avec Strudel dans votre propre projet.

## Respecter la licence

Tout d'abord, prenez un moment pour comprendre la licence libre/open source de Strudel,
[AGPL-3.0](https://www.gnu.org/licenses/agpl-3.0.en.html).

Voici un résumé simple, mais consultez la licence pour les définitions légales et les responsabilités.

- Vous pouvez distribuer des versions modifiées si vous gardez trace des changements et de la date à laquelle vous les avez effectués.
- Vous devez licencier les travaux dérivés sous la même licence.
- Le code source doit être distribué avec la publication web.

Entre autres choses, cela signifie que lorsque vous partagez votre travail, l'application entière doit être partagée sous la même licence libre/open source, ou une compatible avec celle-ci. C'est parce que nous voulons que Strudel reste libre/open source. En d'autres termes, vous n'êtes pas autorisé à distribuer des intégrations de Strudel avec des bibliothèques ou d'autres codes qui n'ont pas une licence libre/open source compatible.

Cela s'applique également aux clones inspirés de la lecture du code source de Strudel, car légalement parlant, cela compte comme un 'travail dérivé'. Encore une fois, veuillez [lire la licence](https://www.gnu.org/licenses/agpl-3.0.en.html) pour plus de détails.

## Intégrer le REPL Strudel

Il existe 3 façons rapides d'intégrer strudel dans votre site web :

1. Intégrer le site web strudel directement comme une iframe
2. Intégrer le site web strudel comme une iframe en utilisant `@strudel/embed`
3. Intégrer le REPL directement en utilisant `@strudel/repl`

### Dans une iframe

Utiliser une iframe est le moyen le plus facile d'intégrer un morceau strudel.
Vous pouvez intégrer n'importe quel pattern de votre choix via une iframe et l'URL du pattern de votre choix :

```html
<iframe src="https://strudel.cc/?xwWRfuCE8TAR" width="600" height="300"></iframe>
```

L'URL peut être obtenue en appuyant sur `share` dans le REPL.
Notez que ces liens de partage dépendent d'une base de données, qui n'est pas garantie de vivre éternellement.
Pour vous assurer que votre code n'est pas perdu, vous pouvez également utiliser l'URL longue :

```html
<iframe
  src="https://strudel.cc/#c2V0Y3BzKDEpCm4oIjwwIDEgMiAzIDQ%2BKjgiKS5zY2FsZSgnRzQgbWlub3InKQoucygiZ21fbGVhZF82X3ZvaWNlIikKLmNsaXAoc2luZS5yYW5nZSguMiwuOCkuc2xvdyg4KSkKLmp1eChyZXYpCi5yb29tKDIpCi5zb21ldGltZXMoYWRkKG5vdGUoIjEyIikpKQoubHBmKHBlcmxpbi5yYW5nZSgyMDAsMjAwMDApLnNsb3coNCkp"
  width="600"
  height="300"
></iframe>
```

Cette longue URL peut simplement être copiée et collée depuis la barre d'URL lorsque vous êtes sur le site web strudel. Elle reflète toujours la dernière évaluation de votre code.

### @strudel/embed

Pour simplifier le processus d'intégration via une iframe, vous pouvez utiliser le package `@strudel/embed` :

```html
<script src="https://unpkg.com/@strudel/embed@latest"></script>
<strudel-repl>
  <!--
setcps(1)
n("<0 1 2 3 4>*8").scale('G4 minor')
.s("gm_lead_6_voice")
.clip(sine.range(.2,.8).slow(8))
.jux(rev)
.room(2)
.sometimes(add(note("12")))
.lpf(perlin.range(200,20000).slow(4))
-->
</strudel-repl>
```

Cela chargera le site web strudel dans une iframe, en utilisant le code fourni dans les commentaires HTML `<!-- -->`.
Les commentaires HTML sont nécessaires pour s'assurer que le navigateur ne l'interprète pas comme du HTML.

Pour des moyens alternatifs de charger ce package, voir le [@strudel/embed README](https://codeberg.org/uzu/strudel/src/branch/main/packages/embed#strudel-embed).

### @strudel/repl

Charger strudel directement dans votre site, sans iframe, ressemble à la variante iframe :

```html
<script src="https://unpkg.com/@strudel/repl@latest"></script>
<strudel-editor>
  <!--
setcps(1)
n("<0 1 2 3 4>*8").scale('G4 minor')
.s("gm_lead_6_voice")
.clip(sine.range(.2,.8).slow(8))
.jux(rev)
.room(2)
.sometimes(add(note("12")))
.lpf(perlin.range(200,20000).slow(4))
-->
</strudel-editor>
```

Ici, nous chargeons `@strudel/repl` au lieu de `@strudel/embed`, et le composant s'appelle `strudel-editor` au lieu de `strudel-repl`.
Oui, le nommage est un peu confus...

L'avantage d'utiliser le repl sans iframe est que vous pouvez épingler la version de strudel que vous utilisez :

```html
<script src="https://unpkg.com/@strudel/repl@1.0.2"></script>
<strudel-editor>
  <!--
...  
-->
</strudel-editor>
```

Cela garantira que votre pattern ne cassera pas en raison de changements au projet strudel à l'avenir.

Pour plus d'informations sur ce package, voir le [@strudel/repl README](https://codeberg.org/uzu/strudel/src/branch/main/packages/repl#strudel-repl).

## Avec votre propre UI

L'approche ci-dessus suppose que vous voulez utiliser l'éditeur [codemirror](https://codemirror.net/) intégré.
Si vous préférez utiliser votre propre UI, vous pouvez utiliser le package `@strudel/web` :

```html
<!doctype html>
<script src="https://unpkg.com/@strudel/web@1.0.3"></script>
<button id="play">jouer</button>
<button id="stop">arrêter</button>
<script>
  initStrudel();
  document.getElementById('play').addEventListener('click', () => note('<c a f e>(3,8)').jux(rev).play());
  document.getElementById('stop').addEventListener('click', () => hush());
</script>
```

Pour plus d'informations sur ce package, voir le [@strudel/web README]https://codeberg.org/uzu/strudel/src/branch/main/packages/web#strudel-web).

## Via npm

[Tous les packages et bien d'autres sont disponibles sur npm sous le namespace @strudel](https://www.npmjs.com/search?q=%40strudel).
Il y a en fait beaucoup plus de packages que vous pouvez utiliser pour avoir un contrôle précis sur ce que vous utilisez ou non.
Pour utiliser ces packages, vous devez utiliser un bundler qui supporte les modules es, comme [vite](https://vitejs.dev/).

Pour en savoir plus sur le but de chaque package, voir [Packages](/technical-manual/packages)
