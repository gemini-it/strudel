---
title: Mini Notation
layout: ../../layouts/MainLayout.astro
---

import { MiniRepl } from '../../docs/MiniRepl';
import { JsDoc } from '../../docs/JsDoc';

# Mini-notation

Tout comme [Tidal Cycles](https://tidalcycles.org/), Strudel utilise une soi-disant "Mini-Notation", qui est un langage personnalisé conçu pour écrire des patterns rythmiques en utilisant peu de texte.

## Remarque

Cette page explique simplement l'intégralité de la syntaxe de la Mini-Notation.
Si vous débutez avec Strudel, vous pouvez apprendre les bases de la Mini-Notation d'une manière plus pratique dans l'[atelier](/workshop/first-sounds).
Après cela, vous pouvez revenir ici si vous voulez comprendre chaque petit détail.

## Exemple

Avant de plonger plus profondément dans les détails, voici un aperçu de ce à quoi ressemble la Mini-Notation :

<MiniRepl
  client:idle
  tune={`note(\`<
[e5 [b4 c5] d5 [c5 b4]]
[a4 [a4 c5] e5 [d5 c5]]
[b4 [~ c5] d5 e5]
[c5 a4 a4 ~]
[[~ d5] [~ f5] a5 [g5 f5]]
[e5 [~ c5] e5 [d5 c5]]
[b4 [b4 c5] d5 e5]
[c5 a4 a4 ~]
,
[[e2 e3]*4]
[[a2 a3]*4]
[[g#2 g#3]*2 [e2 e3]*2]
[a2 a3 a2 a3 a2 a3 b1 c2]
[[d2 d3]*4]
[[c2 c3]*4]
[[b1 b2]*2 [e2 e3]*2]
[[a1 a2]*4]
>\`)`}
/>

## Format de la Mini Notation

L'extrait ci-dessus est entouré de backticks (`), ce qui vous permet d'écrire des chaînes multi-lignes.

Vous pouvez également utiliser des guillemets doubles classiques (`"`) pour une mini-notation sur une seule ligne, comme nous l'avons déjà fait.

Si vous voulez juste obtenir une chaîne normale qui n'est _pas_ analysée comme de la mini-notation, utilisez des guillemets simples (`'`).

## Séquences d'événements dans un cycle

Nous pouvons jouer plus de notes en les séparant par des espaces :

<MiniRepl client:idle tune={`note("c e g b")`} punchcard />

Ici, ces quatre notes sont compressées en un cycle, donc chaque note dure un quart de seconde.
Essayez d'ajouter ou de supprimer des notes et remarquez comment le tempo change !

<MiniRepl client:idle tune={`note("c d e f g a b")`} punchcard />

Notez que la durée totale du temps ne change pas, et au lieu de cela, la longueur de chaque note diminue.
C'est une idée clé, car elle illustre le 'Cycle' dans TidalCycles !

Chaque note séparée par un espace dans cette séquence est un _événement_.
La durée de chaque événement est basée sur la vitesse ou le tempo du cycle, et combien d'événements sont présents.
En prenant les deux exemples ci-dessus, nous avons quatre et huit événements respectivement, et comme ils ont la même durée de cycle, ils doivent chacun adapter leurs événements dans la même quantité de temps.

Cela peut être contre-intuitif si vous avez l'habitude d'ajouter des notes dans un séquenceur ou un piano roll et que la longueur globale augmente.
Mais, cela commencera à avoir du sens à mesure que nous passerons en revue plus d'éléments de la mini-notation.

## Multiplication

Une séquence peut être accélérée en la multipliant par un nombre en utilisant le symbole astérisque (`*`) :

<MiniRepl client:idle tune={`note("[e5 b4 d5 c5]*2")`} punchcard />

La multiplication par deux ici signifie que la séquence jouera deux fois par cycle.

Les multiplications peuvent également être décimales (`*2.75`) :

<MiniRepl client:idle tune={`note("[e5 b4 d5 c5]*2.75")`} punchcard />

## Division

Contrairement à la multiplication, la division peut ralentir la séquence en l'enfermant dans des crochets et en la divisant par un nombre (`/2`) :

<MiniRepl client:idle tune={`note("[e5 b4 d5 c5]/2")`} punchcard />

La division par deux signifie que la séquence sera jouée au cours de deux cycles.
Vous pouvez également utiliser des nombres décimaux pour n'importe quel tempo que vous aimez (`/2.75`).

<MiniRepl client:idle tune={`note("[e5 b4 d5 c5]/2.75")`} punchcard />

## Chevrons

En utilisant les chevrons `<>`, nous pouvons définir la longueur de la séquence en fonction du nombre d'événements :

<MiniRepl client:idle tune={`note("<e5 b4 d5 c5>")`} punchcard />

L'extrait ci-dessus est identique à :

<MiniRepl client:idle tune={`note("[e5 b4 d5 c5]/4")`} punchcard />

L'avantage des chevrons, c'est que nous pouvons ajouter plus d'événements sans avoir besoin de changer le nombre à la fin.

<MiniRepl client:idle tune={`note("<e5 b4 d5 c5 e5>")`} punchcard />

<MiniRepl client:idle tune={`note("<e5 b4 d5 c5 e5 b4>")`} punchcard />

Ceci est plus similaire aux séquenceurs musicaux traditionnels et aux piano rolls, où l'ajout d'une note augmente la durée globale perçue.
Nous pouvons également jouer un certain nombre de notes par cycle en utilisant des chevrons avec multiplication :

<MiniRepl client:idle tune={`note("<e5 b4 d5 c5 a4 c5>*8")`} punchcard />

Maintenant, nous jouons 8 notes par cycle !

## Subdiviser le temps avec l'imbrication de crochets

Pour créer des rythmes plus intéressants, vous pouvez _imbriquer_ ou _enfermer_ des séquences (mettre des séquences à l'intérieur de séquences) avec des crochets `[]`, comme ceci :

Comparez la différence entre les éléments suivants :

<MiniRepl client:idle tune={`note("e5 b4 c5 d5 c5 b4")`} />
<MiniRepl client:idle tune={`note("e5 [b4 c5] d5 c5 b4")`} />
<MiniRepl client:idle tune={`note("e5 [b4 c5] d5 [c5 b4]")`} />
<MiniRepl client:idle tune={`note("e5 [b4 c5] d5 [c5 b4 d5 e5]")`} />
<MiniRepl client:idle tune={`note("e5 [b4 c5] d5 [c5 b4 [d5 e5]]")`} />

Que se passe-t-il ici ? Lorsque nous imbriquons/enfermons plusieurs événements à l'intérieur de crochets (`[]`), leur durée devient la longueur d'un événement dans la séquence externe.

C'est un changement très simple à faire, mais il a des conséquences profondes.
Rappelez-vous ce que nous avons dit plus tôt sur la façon dont les cycles dans tidal restent de la même longueur, et les longueurs d'événements individuels sont divisées dans ce cycle ?
Eh bien, ce que cela signifie, c'est que dans TidalCycles, non seulement vous pouvez diviser le temps de n'importe quelle manière, mais vous pouvez également subdiviser le temps de n'importe quelle manière !

## Silences

Le "~" représente un silence, et créera du silence entre d'autres événements :

<MiniRepl client:idle tune={`note("[b4 [~ c5] d5 e5]")`} punchcard />

## Parallèle / polyphonie

En utilisant des virgules, nous pouvons jouer des accords.
Les éléments suivants sont identiques :

<MiniRepl client:idle tune={`note("[g3,b3,e4]")`} />
<MiniRepl client:idle tune={`note("g3,b3,e4")`} punchcard canvasHeight={80} />

Mais pour jouer plusieurs accords dans une séquence, nous devons les envelopper dans des crochets :

<MiniRepl client:idle tune={`note("<[g3,b3,e4] [a3,c3,e4] [b3,d3,f#4] [b3,e4,g4]>*2")`} punchcard />

## Allongement

Avec le symbole "@", nous pouvons spécifier le "poids" temporel d'un enfant de séquence :

<MiniRepl client:idle tune={`note("<[g3,b3,e4]@2 [a3,c3,e4] [b3,d3,f#4]>*2")`} punchcard />

Ici, le premier accord a un poids de 2, ce qui le rend deux fois plus long que les autres accords. Le poids par défaut est 1.

## Réplication

En utilisant "!" nous pouvons répéter sans accélérer :

<MiniRepl client:idle tune={`note("<[g3,b3,e4]!2 [a3,c3,e4] [b3,d3,f#4]>*2")`} punchcard />

## Aléatoire

Les événements avec un "?" placé après eux auront 50% de chances d'être retirés du pattern :

<MiniRepl client:idle tune={`note("[g3,b3,e4]*8?")`} punchcard />

Ajouter un nombre entre 0 et 1 après le "?" affectera la probabilité que l'événement soit retiré. Par exemple, les événements avec "?0.1" placés après eux auront 10% de chances d'être retirés :

<MiniRepl client:idle tune={`note("[g3,b3,e4]*8?0.1")`} punchcard />

Les événements séparés par un "|" seront choisis au hasard :

<MiniRepl client:idle tune={`note("[g3,b3,e4] | [a3,c3,e4] | [b3,d3,f#4]")`} punchcard />

## Révision de la mini-notation

Pour récapituler ce que nous avons appris jusqu'à présent, comparez les patterns suivants :

<MiniRepl client:idle tune={`note("<g3 b3 e4 [a3,c3,e4] [b3,d3,f#4]>*2")`} />
<MiniRepl client:idle tune={`note("<[g3,b3,e4] [a3,c3,e4] [b3,d3,f#4]>*2")`} />
<MiniRepl client:idle tune={`note("<[g3,b3,e4]/2 [a3,c3,e4] [b3,d3,f#4]>*2")`} />
<MiniRepl client:idle tune={`note("<[g3,b3,e4]*2 [a3,c3,e4] [b3,d3,f#4]>*2")`} />
<MiniRepl client:idle tune={`note("<[g3,b3,e4] _ [a3,c3,e4] [b3,d3,f#4]>*2")`} />
<MiniRepl client:idle tune={`note("<[g3,b3,e4]@2 [a3,c3,e4] [b3,d3,f#4]>*2")`} />
<MiniRepl client:idle tune={`note("<[g3,b3,e4]!2 [a3,c3,e4] [b3,d3,f#4]>*2")`} />
<MiniRepl client:idle tune={`note("<[g3,b3,e4]? [a3,c3,e4] [b3,d3,f#4]>*2")`} />
<MiniRepl client:idle tune={`note("<[g3|b3|e4] [a3,c3,e4] [b3,d3,f#4]>*2")`} />

## Rythmes euclidiens

En utilisant des parenthèses rondes après un événement, nous pouvons créer des subdivisions rythmiques basées sur trois paramètres : `beats`, `segments` et `offset`.
Cet algorithme peut être trouvé dans de nombreux types de logiciels musicaux, et est souvent appelé séquenceur de [rythme euclidien](https://en.wikipedia.org/wiki/Euclidean_rhythm), d'après l'informaticien Godfriend Toussaint.
Pourquoi est-ce intéressant ? Eh bien, considérez l'exemple simple suivant :

<MiniRepl client:idle tune={`s("bd(3,8,0)")`} punchcard canvasHeight={50} />

Cela vous semble familier ?
C'est un rythme euclidien populaire portant divers noms, tels que "Pop Clave".
Ces rythmes peuvent être trouvés dans toutes les cultures musicales, et l'algorithme de rythme euclidien nous permet de les exprimer extrêmement facilement.
Écrire ce rythme en entier nécessite de décrire :

<MiniRepl client:idle tune={`s("bd ~ ~ bd ~ ~ bd ~")`} punchcard canvasHeight={50} />

Mais en utilisant la notation de rythme euclidien, nous n'avons besoin d'exprimer que "3 battements sur 8 segments, commençant à la position 1".

Cela facilite l'écriture de patterns avec des structures rythmiques intéressantes et des variations qui sonnent toujours familières :

<MiniRepl client:idle tune={`note("e5(2,8) b4(3,8) d5(2,8) c5(3,8)").slow(2)`} punchcard canvasHeight={50} />

Notez que puisque l'exemple ci-dessus n'utilise pas le troisième paramètre `offset`, il peut être écrit simplement comme `"(3,8)"`.

<MiniRepl client:idle tune={`s("bd(3,8)")`} punchcard canvasHeight={50} />

Examinons ces trois paramètres en détail.

### Battements

`beats` : le premier paramètre contrôle combien de battements seront joués.
Comparez ceux-ci :

<MiniRepl client:idle tune={`s("bd(2,8)")`} punchcard canvasHeight={50} />
<MiniRepl client:idle tune={`s("bd(5,8)")`} punchcard canvasHeight={50} />
<MiniRepl client:idle tune={`s("bd(7,8)")`} punchcard canvasHeight={50} />

### Segments

`segments` : le deuxième paramètre contrôle le nombre total de segments sur lesquels les battements seront distribués :

<MiniRepl client:idle tune={`s("bd(3,4)")`} punchcard canvasHeight={50} />
<MiniRepl client:idle tune={`s("bd(3,8)")`} punchcard canvasHeight={50} />
<MiniRepl client:idle tune={`s("bd(3,13)")`} punchcard canvasHeight={50} />

### Décalages

`offset` : le troisième paramètre (optionnel) contrôle la position de départ pour la distribution des battements.
Nous avons besoin d'un rythme secondaire pour entendre la différence :

<MiniRepl client:idle tune={`s("bd(3,8,0), hh cp")`} punchcard />
<MiniRepl client:idle tune={`s("bd(3,8,3), hh cp")`} punchcard />
<MiniRepl client:idle tune={`s("bd(3,8,5), hh cp")`} punchcard />

## Exercice de mini-notation

La chose la plus amusante à propos de la mini-notation, c'est que tout ce que vous venez d'apprendre peut être combiné de diverses manières !

En commençant par ce `n`, pouvez-vous faire une _chaîne de pattern_ qui utilise chaque élément de mini-notation ci-dessus ?

<MiniRepl client:idle tune={`n("60")`} />

<br />

Ensuite : Comment les [Échantillons](/learn/samples) s'intègrent-ils dans tout cela ?
