---
title: Strudel vs Tidal
layout: ../../layouts/MainLayout.astro
---

import { MiniRepl } from '../../docs/MiniRepl';
import { JsDoc } from '../../docs/JsDoc';

# Comparer Strudel et Tidal

Cette page est dédiée aux utilisateurs existants de Tidal, donnant un aperçu de toutes les différences entre Strudel et Tidal.

## Langage

Strudel est écrit en JavaScript, tandis que Tidal est écrit en Haskell.

### Exemple

Cette différence est la plus évidente lorsqu'on regarde la syntaxe :

```haskell
iter 4 $ every 3 (||+ n "10 20") $ (n "0 1 3") # s "triangle" # crush 4
```

On _pourrait_ exprimer ce motif dans Strudel comme ceci :

```
iter(4, every(3, add.squeeze("10 20"), n("0 1 3").s("triangle").crush(4)))
```

- L'opérateur `$` n'existe pas, donc la fonction `iter` doit tout envelopper dans des parenthèses.
- Les opérateurs personnalisés comme `||+` sont des appels de fonction explicites, `add.squeeze` dans ce cas.
- L'opérateur `#` est remplacé par un appel de fonction chaîné `# crush 4` => `.crush(4)`.

Contrairement à Haskell, JavaScript n'a pas la capacité de définir des opérateurs infixes personnalisés, ni de changer la signification de ceux existants.

Avant de rejeter Strudel comme un monstre de parenthèses ingérable, regardez cette façon alternative d'écrire ce qui précède :

```
n("0 1 3").every(3, add.squeeze("10 20")).iter(4).s("triangle").crush(4)
```

En réordonnant les appels, les parenthèses sont beaucoup moins imbriquées.
En règle générale, on pourrait dire que tout ce que Tidal fait avec `$` est inversé dans Strudel :

`iter 4 $ every 3 (||+ n "10 20") $ (n "0 1 3")`

devient

`n("0 1 3").every(3, add.squeeze("10 20")).iter(4)`

Tout simplement, `foo x $ bar x` devient `bar(x).foo(x)`.

### Opérateurs

Les [opérateurs personnalisés de Tidal](https://tidalcycles.org/docs/reference/pattern_structure/#all-the-operators) sont des fonctions normales dans Strudel :

| fonction    | tidal  | strudel |
| ----------- | ------ | ------- |
| add         | \|+ n  | .add(n) |
| subtract    | \|- n  | .sub(n) |
| multiply    | \|\* n | .mul(n) |
| divide      | \|\/ n | .div(n) |
| modulo      | \|\% n | .mod(n) |
| left values | \|\< n | .set(n) |

La liste ci-dessus affiche uniquement les opérateurs prenant la structure venant de la `gauche`.
Pour chacun d'entre eux, une variante `right` et `both` existe également.
Comme cette pensée directionnelle ne fonctionne qu'avec du code, Strudel les appelle `in` / `out` / `mix` :

| direction | tidal   | strudel     |
| --------- | ------- | ----------- |
| left      | \|+ n   | .add.in(n)  |
| right     | +\| n   | .add.out(n) |
| both      | \|+\| n | .add.mix(n) |

Au lieu de `+` / `add`, vous pouvez utiliser l'un des opérateurs disponibles de la première liste.

## Compatibilité des fonctions

[Cette issue](https://codeberg.org/uzu/strudel/issues/31) suit quelles fonctions Tidal sont implémentées dans Strudel.
La liste pourrait ne pas être à 100 % à jour et manque probablement aussi complètement certaines fonctions..
N'hésitez pas à rechercher dans le code source une fonction que vous recherchez.
Si vous trouvez une fonction qui n'est pas sur la liste, veuillez le dire !

## Paramètres de contrôle

Comme vu dans l'exemple, l'opérateur `#` (raccourci pour `|>`) est également juste un appel de fonction dans Strudel.
Donc `note "c5" # s "gtr"` devient `note("c5").s('gtr')`.

[Ce fichier](https://codeberg.org/uzu/strudel/src/branch/main/packages/core/controls.mjs) liste tous les paramètres de contrôle disponibles.
Notez que tous ne fonctionnent pas dans la sortie Web Audio de Strudel.
Si vous trouvez un contrôle Tidal qui n'est pas sur la liste, veuillez le dire !

## Son

Tidal est couramment associé à SuperDirt / SuperCollider pour la génération de son.
Alors que Strudel a également un moyen de [communiquer avec SuperDirt](/learn/input-output/),
il vise à fournir un environnement de live coding autonome qui s'exécute entièrement dans le navigateur.

### Effets audio

Beaucoup des effets de SuperDirt ont été réimplémentés dans Strudel, en utilisant l'API Web Audio.
Vous pouvez trouver une [liste des effets disponibles ici](/learn/effects/).

### Échantillonneur

L'échantillonneur de Strudel prend en charge [un sous-ensemble](/learn/samples) de l'échantillonneur de SuperDirt.
De plus, les échantillons sont toujours chargés depuis une URL plutôt que depuis le disque, bien que [cela pourrait être possible à l'avenir](https://codeberg.org/uzu/strudel/issues/118).

## Évaluation

Le REPL Strudel ne prend pas encore en charge l'[évaluation par blocs](https://codeberg.org/uzu/strudel/issues/34).
Vous pouvez utiliser des instructions étiquetées et `_` pour couper le son :

<MiniRepl
  client:visible
tune={`$: n("[0 .. 8]*8/9").scale("C:minor:pentatonic")

\_$: s("bd\*4").bank('RolandTR909')`}
/>

## Tempo

Le tempo de Strudel est de 1 cycle par seconde, tandis que Tidal utilise par défaut `0.5625`.
Vous pouvez obtenir le même tempo que Tidal avec :

```
note("c a f e").fast(.5625);
```

Ensuite : le [REPL](/technical-manual/repl)
