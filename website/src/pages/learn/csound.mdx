---
title: Csound
layout: ../../layouts/MainLayout.astro
---

import { MiniRepl } from '../../docs/MiniRepl';
import { JsDoc } from '../../docs/JsDoc';
import Colors from '../../docs/Colors.jsx';

# Utiliser CSound avec Strudel

üß™ Strudel a un support exp√©rimental pour csound, en utilisant [@csound/browser](https://www.npmjs.com/package/@csound/browser).

## Importer des fichiers .orc

Pour utiliser des instruments csound existants, vous pouvez charger et utiliser un fichier orc depuis une URL comme ceci :

<MiniRepl
  client:only="react"
  tune={`// livecode.orc par Steven Yi
await loadOrc('github:kunstmusik/csound-live-code/master/livecode.orc')
note("c a f e").csound('FM1')
`}
/>

Notez que l'URL ci-dessus utilise le raccourci `github:`, qui r√©sout vers le fichier brut sur GitHub, mais vous pouvez utiliser n'importe quelle URL que vous aimez.

L'impressionnant [`livecode.orc par Steven Yi`](https://github.com/kunstmusik/csound-live-code) est livr√© avec de nombreux sons pr√™ts √† l'emploi :

<MiniRepl
  client:only="react"
  tune={`// livecode.orc par Steven Yi
await loadOrc('github:kunstmusik/csound-live-code/master/livecode.orc')
note("c a f e").csound(cat(
"Sub1", // 	Synth√© soustractif, 3osc
"Sub2", // 	Synth√© soustractif, deux saws, √©cart de quinte en fr√©quence
"Sub3", // 	Synth√© soustractif, trois saws d√©saccord√©es, gonfle √† l'entr√©e
"Sub4", // 	Synth√© soustractif, square/saw d√©saccord√©, piquant. Sympa comme lead en octave 2, agr√©ablement grin√ßant en octave -2, -1
"Sub5", // 	Synth√© soustractif, square/triangle d√©saccord√©
"Sub6", // 	Synth√© soustractif, saw, filtres K35
"Sub7", // 	Synth√© soustractif, saw + tri, filtres K35
"Sub8", // 	Synth√© soustractif, square + saw + tri, filtre ladder diode
"SynBrass", // 	Synth√© de cuivres soustractif SynthBrass
"SynHarp", // 	Synth√© de harpe soustractif Synth Harp
"SSaw", // 	Son SuperSaw utilisant 9 saws √† bande limit√©e (3 ensembles de saws d√©saccord√©es en octaves)
"Mode1", // 	Instrument de synth√®se modale : son percussif/d'orgue
"Plk", // 	Son Pluck utilisant des impulsions, du bruit et des guides d'ondes
"Organ1", // 	Son d'orgue √† table d'ondes utilisant la synth√®se additive
"Organ2", // 	Son d'orgue bas√© sur le patch M1 Organ 2
"Organ3", // 	Orgue √† table d'ondes utilisant Flute 8' et Flute 4', table d'ondes bas√©e sur Claribel Flute http://www.pykett.org.uk/the\_tonal\_structure\_of\_organ\_flutes.htm
"Bass", // 	Son de basse soustractif
"ms20_bass", // 	Son de basse de style MS20
"VoxHumana", // 	Patch VoxHumana
"FM1", // 	FM ratio C:M de 3:1, index 2->0.025, sympa pour la basse
"Noi", // 	Bruit filtr√©, enveloppe exponentielle
"Wobble", // 	Patch Wobble bas√© sur "Tempo-Synced Wobble Bass" de Jacob Joaquin
"Sine", // 	Instrument simple √† onde sinuso√Ødale avec enveloppe exponentielle
"Square", // 	Instrument simple √† onde carr√©e avec enveloppe exponentielle
"Saw", // 	Instrument simple √† onde en dents de scie avec enveloppe exponentielle
"Squine1", // 	Synth√© Squinewave, 2 osc
"Form1", // 	Synth√© de formants, source buzz, formants soprano ah
"Mono", // 	Synth√© monophone utilisant une onde en dents de scie et un lpf 4 p√¥les. Utilisez "start("Mono") pour ex√©cuter le monosynth, puis utilisez l'instrument MonoNote pour jouer l'instrument.
"MonoNote", // 	Instrument de jeu de notes pour le synth√© Mono. Attention √† utiliser ceci et √† ne pas essayer de cr√©er plusieurs instruments Mono !
"Click", // 	Son de clic glitchy filtr√© passe-bande. p4 = fr√©quence centrale (par exemple, 3000, 6000)
"NoiSaw", // 	Son de bruit+saw filtr√© passe-haut. Utilisez NoiSaw.cut channel pour ajuster la coupure.
"Clap", // 	Instrument clap modifi√© par Istvan Varga (clap1.orc)
"BD", // 	Grosse caisse - De TR-808.csd d'Iain McCurdy
"SD", // 	Caisse claire - De TR-808.csd d'Iain McCurdy
"OHH", // 	Charleston ouverte - De TR-808.csd d'Iain McCurdy
"CHH", // 	Charleston ferm√©e - De TR-808.csd d'Iain McCurdy
"HiTom", // 	Tom aigu - De TR-808.csd d'Iain McCurdy
"MidTom", // 	Tom m√©dium - De TR-808.csd d'Iain McCurdy
"LowTom", // 	Tom grave - De TR-808.csd d'Iain McCurdy
"Cymbal", // 	Cymbale - De TR-808.csd d'Iain McCurdy
"Rimshot", // 	Rimshot - De TR-808.csd d'Iain McCurdy
"Claves", // 	Claves - De TR-808.csd d'Iain McCurdy
"Cowbell", // 	Cowbell - De TR-808.csd d'Iain McCurdy
"Maraca", // 	Maraca - de TR-808.csd d'Iain McCurdy
"HiConga", // 	Conga aig√ºe - De TR-808.csd d'Iain McCurdy
"MidConga", // 	Conga m√©dium - De TR-808.csd d'Iain McCurdy
"LowConga", // 	Conga grave - De TR-808.csd d'Iain McCurdy
))`}
/>

## √âcrire vos propres instruments

Vous pouvez d√©finir votre/vos propre(s) instrument(s) avec `loadCsound` comme ceci :

<MiniRepl
  client:only="react"
tune={`await loadCsound\`
instr CoolSynth
    iduration = p3
    ifreq = p4
    igain = p5
    ioct = octcps(ifreq)

    kpwm = oscili(.05, 8)
    asig = vco2(igain, ifreq, 4, .5 + kpwm)
    asig += vco2(igain, ifreq * 2)

    idepth = 2
    acut = transegr:a(0, .005, 0, idepth, .06, -4.2, 0.001, .01, -4.2, 0) ; enveloppe de filtre
    asig = zdf_2pole(asig, cpsoct(ioct + acut + 2), 0.5)

    iattack = .01
    isustain = .5
    idecay = .1
    irelease = .1
    asig *= linsegr:a(0, iattack, 1, idecay, isustain, iduration, isustain, irelease, 0)

    out(asig, asig)

endin\`

"<0 2 [4 6](3,4,2) 3\*2>"
.off(1/4, add(2))
.off(1/2, add(6))
.scale('D minor')
.note()
.csound('CoolSynth')`}
/>

## Param√®tres

La fonction `.csound` envoie les valeurs p suivantes :

|     |                                      |
| --- | ------------------------------------ |
| p1  | nom de l'instrument ex. `CoolSynth`  |
| p2  | d√©calage temporel, quand il doit jouer |
| p3  | la dur√©e de l'√©v√©nement / hap        |
| p4  | fr√©quence en Hertz                   |
| p5  | `gain` normalis√©, 0-1                |

Il existe une fonction alternative `.csoundm` avec une saveur diff√©rente :

|     |                                      |
| --- | ------------------------------------ |
| p4  | num√©ro de touche MIDI, non arrondi, 0-127 |
| p5  | v√©locit√© MIDI, 0-127                 |

Dans les deux cas, p4 est d√©riv√© de la valeur de `freq` ou `note`.

## Limitations / Plans futurs

En dehors des valeurs p list√©es ci-dessus, aucun autre param√®tre ne peut √™tre pattern√© pour l'instant.
Cela signifie √©galement que les [effets audio](/learn/effects/) ne fonctionneront pas.
√Ä l'avenir, l'int√©gration pourrait √™tre am√©lior√©e en passant tous les param√®tres de contr√¥le pattern√©s √† l'instrument csound.
Cela pourrait fonctionner avec un [canal](https://kunstmusik.github.io/icsc2022-csound-web/tutorial2-interacting-with-csound/#step-4---writing-continuous-data-channels) unique
pour chaque valeur. Les canaux pourraient √™tre lus [comme ceci](https://github.com/csound/csound/blob/master/Android/CsoundForAndroid/CsoundAndroidExamples/src/main/res/raw/multitouch_xy.csd).
De plus, il pourrait √™tre logique d'avoir une biblioth√®que standard d'instruments csound pour les effets de Strudel.

Maintenant, plongeons dans l'[API JavaScript fonctionnelle](/functions/intro)
