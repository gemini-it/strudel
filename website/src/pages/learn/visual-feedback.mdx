---
title: Retour visuel
layout: ../../layouts/MainLayout.astro
---

import { MiniRepl } from '../../docs/MiniRepl';
import { JsDoc } from '../../docs/JsDoc';

# Retour visuel

Il existe plusieurs fonctions qui ajoutent un retour visuel à vos patterns.

## Mise en évidence de la Mini Notation

Lorsque vous écrivez de la mini notation avec des "guillemets doubles" ou des \`backticks\`, les parties actives de la mini notation seront mises en évidence :

<MiniRepl
  client:idle
  tune={`n("<0 2 1 3 2>*8")
.scale("<A1 D2>/4:minor:pentatonic")
.s("supersaw").lpf(300).lpenv("<4 3 2>\*4")`}
/>

Vous pouvez également changer la couleur, même la patteriser :

<MiniRepl
  client:idle
  tune={`n("<0 2 1 3 2>*8")
.scale("<A1 D2>/4:minor:pentatonic")
.s("supersaw").lpf(300).lpenv("<4 3 2>*4")
.color("cyan magenta")`}
/>

## Visuels globaux vs en ligne

Les fonctions suivantes viennent toutes en 2 variantes.

**Sans préfixe** : rend le visuel sur l'arrière-plan de la page :

<MiniRepl client:idle tune={`note("c a f e").color("white").punchcard()`} />

**Avec préfixe `_`** : rend le visuel à l'intérieur du code. Permet plusieurs visuels

<MiniRepl client:idle tune={`note("c a f e").color("white")._punchcard()`} />

Ici, nous voyons les 2 variantes pour `punchcard`. Il en va de même pour tous les autres ci-dessous.
Pour améliorer la lisibilité, les démos suivantes utiliseront toutes la variante en ligne.

## Punchcard / Pianoroll

Ces 2 fonctions rendent un visuel de style pianoroll.
La seule différence entre les 2 est que `pianoroll` rendra le pattern directement,
tandis que `punchcard` prendra également en compte les transformations qui se produisent après :

<MiniRepl
  client:idle
  tune={`note("c a f e").color("white")
._punchcard()
.color("cyan")`}
  autodraw
/>

Ici, la `color` est toujours visible dans le visuel, même si elle est appliquée après `_punchcard`.
Au contraire, la couleur n'est pas visible lors de l'utilisation de `_pianoroll` :

<MiniRepl
  client:idle
  tune={`note("c a f e").color("white")
._pianoroll()
.color("cyan")`}
  autodraw
/>

import Box from '@components/Box.astro';

<br />

<Box>

`punchcard` est moins gourmand en ressources car il utilise les mêmes données que celles utilisées pour la mise en évidence de la mini notation.

</Box>

Le visuel peut être personnalisé en passant des options. Ces options sont les mêmes pour les deux fonctions.

Ce qui suit est la documentation API de toutes les options que vous pouvez passer :

<JsDoc client:idle name="pianoroll" h={0} />

## Spiral

<JsDoc client:idle name="spiral" h={0} />

## Scope

<JsDoc client:idle name="scope" h={0} />

## Pitchwheel

<JsDoc client:idle name="pitchwheel" h={0} />

## Spectrum

<JsDoc client:idle name="spectrum" h={0} />

## markcss

<JsDoc client:idle name="markcss" h={0} />
