---
title: Paramètres de Contrôle
layout: ../../layouts/MainLayout.astro
---

import { MiniRepl } from '../../docs/MiniRepl';
import { JsDoc } from '../../docs/JsDoc';

# Paramètres de Contrôle

Outre les fonctions qui contrôlent le temps, nous avons vu précédemment que des fonctions comme `note` et `cutoff` contrôlent différents paramètres (params courts) d'un événement.
Regardons maintenant de plus près comment fonctionnent ces `fonctions de paramètres`.

# Fonctions de Paramètres

Une caractéristique très puissante des patterns tidal est que chaque paramètre peut être contrôlé indépendamment :

<MiniRepl
  client:only="react"
  tune={`note("c a f e")
.cutoff("<500 1000 2000 [4000 8000]>")
.gain(.8)
.s('sawtooth')
.log()`}
/>

Dans cet exemple, les paramètres `note`, `cutoff`, `gain` et `s` sont contrôlés indépendamment par des patterns ou des valeurs simples (nombres / texte).
Après avoir appuyé sur play, nous pouvons observer le temps et les valeurs des paramètres de chaque événement (hap) dans la sortie créée par `.log()`.

## Valeurs Simples vs Valeurs Paramétrées

Les patterns qui ne sont pas enveloppés dans une fonction de paramètre contiendront des `valeurs simples` non étiquetées :

<MiniRepl client:only="react" tune={`"<c e g>".log()`} />

Cela ne générera aucune sortie sonore, car Strudel ne pourrait que deviner quel paramètre est signifié par ces lettres.

Maintenant, comparez cela à la version enveloppée dans `note` :

<MiniRepl client:only="react" tune={`note("<c e g>").log()`} />

Maintenant, il est clair que ces lettres sont destinées à être jouées comme des notes.
Sous le capot, la fonction `note` (ainsi que toutes les autres fonctions de paramètres)
enveloppera chaque valeur simple dans un objet. Si la fonction note n'existait pas, nous devrions écrire :

<MiniRepl client:only="react" tune={`cat({note:'c'},{note:'e'},{note:'g'}).log()`} />

Cela aura la même sortie, bien que ce soit plutôt difficile à lire et à écrire.

## Enchaînement des Fonctions de Paramètres

Pour éviter trop d'imbrication, les fonctions de paramètres peuvent également être enchaînées comme ceci :

<MiniRepl client:only="react" tune={`cat('c', 'e', 'g').note().log()`} />

Ceci est équivalent à `note(cat('c','e','g')).log()`.

Vous pouvez utiliser cela avec n'importe quelle fonction qui déclare un type (comme `n`, `s`, `note`, `freq` etc), assurez-vous simplement de laisser les parenthèses vides !

## Modification de Valeur Simple

Les patterns de valeurs simples peuvent être modifiés avec l'un des opérateurs suivants :

<MiniRepl client:only="react" tune={`"50 60 70".add("<0 1 2>").log()`} />

Ici, la fonction add modifie les nombres à gauche.
Encore une fois, il n'y a pas de sortie car ces nombres n'ont aucune signification sans paramètre.

## Modification de Valeur de Paramètre

Pour modifier une valeur de paramètre, vous pouvez soit :

- Utiliser l'opérateur sur le pattern de valeur simple, à l'intérieur de la fonction de paramètre :

  <MiniRepl client:only="react" tune={`note("50 60 70".add("<0 1 2>")).room(.1).log()`} />

- De même, utiliser l'opérateur sur le pattern de valeur simple et l'envelopper plus tard :

  <MiniRepl client:only="react" tune={`"50 60 70".add("<0 1 2>").note().room(.1).log()`} />

- Spécifier quel paramètre doit être modifié à l'intérieur de la fonction d'opérateur :

  <MiniRepl client:only="react" tune={`note("50 60 70").room(.1).add(note("<0 1 2>")).log()`} />

N'oubliez pas que l'exécution des fonctions enchaînées se fait de gauche à droite.

# Opérateurs

Ce groupe de fonctions permet de modifier la valeur des événements.

## add

<JsDoc client:idle name="Pattern.add" h={0} />

## sub

<JsDoc client:idle name="Pattern.sub" h={0} />

## mul

<JsDoc client:idle name="Pattern.mul" h={0} />

## div

<JsDoc client:idle name="Pattern.div" h={0} />

## round

<JsDoc client:idle name="Pattern.round" h={0} />

## floor

<JsDoc client:idle name="Pattern.floor" h={0} />

## ceil

<JsDoc client:idle name="Pattern.ceil" h={0} />

## range

<JsDoc client:idle name="Pattern.range" h={0} />

## rangex

<JsDoc client:idle name="Pattern.rangex" h={0} />

## range2

<JsDoc client:idle name="Pattern.range2" h={0} />

## ratio

<JsDoc client:idle name="Pattern.ratio" h={0} />

## as

<JsDoc client:idle name="as" h={0} />

# Paramètres Personnalisés

Vous pouvez également créer vos propres paramètres :

<MiniRepl
  client:only="react"
  tune={`let x = createParam('x')
x(sine.range(0, 200))
`}
/>

Plusieurs paramètres peuvent également être créés de manière plus concise, en utilisant `createParams` :

<MiniRepl
  client:only="react"
  tune={`let { x, y } = createParams('x', 'y');
x(sine.range(0, 200)).y(cosine.range(0, 200));
`}
/>

Notez que ces paramètres ne feront rien tant que vous ne leur donnerez pas de signification dans votre sortie personnalisée !

De la modification des paramètres, nous passons au concept de [Signaux](/learn/signals).
