---
title: API JavaScript
layout: ../../layouts/MainLayout.astro
---

import { MiniRepl } from '../../docs/MiniRepl';
import { JsDoc } from '../../docs/JsDoc';

# Fonctions de Patterns

Apprenons tout sur les fonctions pour créer et modifier les patterns.
Au cœur de Strudel, tout est constitué de fonctions.

Par exemple, tout ce que vous pouvez faire avec la Mini-Notation peut également être fait avec une fonction.
Ce Pattern en Mini Notation :

<MiniRepl client:only="react" tune={`note("c3 eb3 g3")`} />

est équivalent à ce Pattern sans Mini Notation :

<MiniRepl client:only="react" tune={`note(seq("c3", "eb3", "g3"))`} />

De même, il existe une fonction équivalente pour chaque aspect de la mini notation.

Quelle représentation utiliser est une question de contexte. En règle générale, les fonctions
sont mieux adaptées dans un contexte plus large, tandis que la mini notation est plus pratique pour les rythmes individuels.

## Limites de la Mini Notation

Bien que la Mini Notation soit un moyen puissant d'écrire des rythmes de manière concise, elle a aussi ses limites. Prenez cet exemple :

<MiniRepl
  client:idle
  tune={`stack(
  note("c2 eb2(3,8)").s('sawtooth').cutoff(800),
  s("bd(5,8), hh*8")
)`}
/>

Ici, nous utilisons la mini notation pour les rythmes individuels, tout en utilisant la fonction `stack` pour les mélanger.
Bien que stack soit également disponible comme `,` dans la mini notation, nous ne pouvons pas l'utiliser ici, car nous avons différents types de sons.

## Combiner des Patterns

Vous pouvez librement mélanger les patterns JS, les mini patterns et les valeurs ! Par exemple, ce pattern :

<MiniRepl
  client:idle
  tune={`cat(
  stack("g3","b3","e4"),
  stack("a3","c3","e4"),
  stack("b3","d3","fs4"),
  stack("b3","e4","g4")
).note()`}
/>

...est équivalent à :

<MiniRepl
  client:idle
  tune={`cat(
  "g3,b3,e4",
  "a3,c3,e4",
  "b3,d3,f#4",
  "b3,e4,g4"
).note()`}
/>

... ainsi qu'à :

<MiniRepl client:only="react" tune={`note("<[g3,b3,e4] [a3,c3,e4] [b3,d3,f#4] [b3,e4,g4]>")`} />

Bien que la mini notation soit presque toujours plus courte, elle n'a qu'une poignée de modificateurs : \* / ! @.
Lorsque vous utilisez des patterns JS, il y a beaucoup plus de possibilités.

Ensuite, voyons comment vous pouvez [créer des patterns](/learn/factories)
