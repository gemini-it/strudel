---
title: Comprendre les Cycles
layout: ../../layouts/MainLayout.astro
---

import { MiniRepl } from '../../docs/MiniRepl';
import { PitchSlider } from '../../components/PitchSlider';
import Box from '@components/Box.astro';

# Comprendre les Cycles

Le concept de cycles est très central pour pouvoir comprendre comment fonctionne Strudel.
Le langage mère de Strudel, TidalCycles, l'a même dans son nom.

## Cycles et BPM

Dans la plupart des logiciels de musique, l'unité BPM (battements par minute) est utilisée pour définir le tempo.
Strudel exprime le tempo en CPS (cycles par seconde), avec une valeur par défaut de 0.5 CPS :

<MiniRepl client:visible tune={`s("bd")`} />

Ici, nous pouvons entendre le 0.5CPS en action : Le kick se répète une fois toutes les deux secondes.
Faisons-en 4 kicks :

<MiniRepl client:visible tune={`s("bd bd bd bd")`} />

Maintenant nous avons 4 kicks par cycle, mais le pattern entier joue toujours à 0.5CPS.
En termes de BPM, la plupart des musiciens vous diraient que cela joue à 120bpm.
Qu'en est-il de celui-ci :

<MiniRepl client:visible tune={`s("bd hh bd hh")`} />

Parce que le deuxième son est maintenant un charleston, le tempo semble à nouveau plus lent.
Cela nous amène à une réalisation importante :

<Box>

Le tempo est basé sur la perception.
Le choix des sons a également un impact sur la sensation de tempo.
C'est pourquoi le même CPS peut produire différents tempos perçus.

</Box>

## Définir le CPM

Si vous êtes familier avec le BPM, vous pouvez utiliser la méthode `setcpm` pour définir le tempo global en cycles par minute :

<MiniRepl
  client:visible
  tune={`setcpm(110)
s("bd hh")`}
/>

Si vous voulez ajouter plus de battements par cycle, vous voudrez peut-être diviser le cpm :

<MiniRepl
  client:visible
  tune={`setcpm(110/4)
s("bd sd bd rim, hh*8")`}
/>

Ou en utilisant 2 battements par cycle :

<MiniRepl
  client:visible
  tune={`setcpm(110/2)
s("bd sd, hh*4")`}
/>

Vous pouvez utiliser la méthode `setcps` pour définir le tempo global en cycles par seconde. `setcpm(x)` est identique à `setcps(x / 60)`.

<Box>

Pour définir un bpm spécifique, utilisez `setcpm(bpm/bpc)`

- bpm : les battements par minute cibles
- bpc : le nombre de battements perçus par cycle

</Box>

## Cycles et Mesures

Dans la plupart des logiciels de musique, plusieurs battements forment une mesure.
La signature rythmique spécifie combien de battements sont dans chaque mesure.
Dans de nombreux types de musique, il est courant d'utiliser 4 battements par mesure, également connu sous le nom de temps 4/4.
De nombreux programmes de musique l'utilisent par défaut.

Strudel n'a pas de concept de mesures, il n'y a que des cycles.
Comment vous les utilisez dépend de vous. Ci-dessus, nous avions cet exemple :

<MiniRepl
  client:visible
  tune={`setcpm(110/4)
s("bd sd bd rim, hh*8")`}
/>

Cela pourrait être interprété comme un temps 4/4 avec un tempo de 110bpm.
Nous pourrions écrire plusieurs mesures comme ceci :

<MiniRepl
  client:visible
  tune={`setcpm(110/4)
s(\`<
[bd sd bd rim, hh*8] 
[bd sd bd rim*2, hh*8]
>\`)`}
/>

Au lieu d'écrire chaque mesure séparément, nous pourrions exprimer cela beaucoup plus court :

<MiniRepl
  client:visible
  tune={`setcpm(110/2)
s("bd <sd rim*<1 2>>,hh*4")`}
/>

Ici, nous pouvons voir que penser en cycles plutôt qu'en mesures simplifie beaucoup les choses !
Ces types de simplifications fonctionnent grâce à la nature répétitive du rythme.
En termes informatiques, vous pourriez dire que la notation précédente a beaucoup de redondance.

## Signatures Rythmiques

Pour obtenir une signature rythmique, changez simplement le nombre d'éléments par mesure. Voici un rythme avec 7 battements :

<MiniRepl client:visible tune={`s("bd ~ rim bd bd rim ~")`} />

ou avec 5 :

<MiniRepl client:visible tune={`s("bd hh hh bd hh hh bd rim bd hh")`} />

Nous pourrions également écrire plusieurs mesures avec différentes signatures rythmiques :

<MiniRepl
  client:visible
  tune={`setcpm(110*2)
s(\`<
[bd hh rim]@3
[bd hh rim sd]@4
>\`)`}
/>

Ici, nous basculons entre 3/4 et 4/4, en gardant le même tempo.

Si nous ne spécifions pas la longueur, nous obtenons ce qu'on appelle une modulation métrique :

<MiniRepl
  client:visible
  tune={`setcpm(110/2)
s(\`<
[bd hh rim]
[bd hh rim sd]
>\`)`}
/>

Maintenant les 3 éléments obtiennent le même temps que les 4 éléments, c'est pourquoi le tempo change.
